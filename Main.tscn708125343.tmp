[gd_scene load_steps=28 format=3 uid="uid://wbe5jgk6pxqp"]

[ext_resource type="Script" uid="uid://d1egmss6dtx2l" path="res://Main.gd" id="1"]
[ext_resource type="Texture2D" uid="uid://ox0gwbe3rue" path="res://Art/Background/Background.png" id="2"]
[ext_resource type="Texture2D" uid="uid://bhqv7mxcreg26" path="res://Art/Background/Arrow_Left.png" id="3"]
[ext_resource type="Texture2D" uid="uid://d2a4a2pclvkpu" path="res://Art/Background/Arrow_Left_Dark.png" id="4"]
[ext_resource type="Texture2D" uid="uid://r0aufymdaiah" path="res://Art/Background/Arrow_Right.png" id="5"]
[ext_resource type="FontFile" uid="uid://biijgcxck62qj" path="res://Fonts/DoT_Custom_v3.ttf" id="6"]
[ext_resource type="PackedScene" path="res://Player.tscn" id="7"]
[ext_resource type="PackedScene" uid="uid://blyjgssvqoxb3" path="res://HUD.tscn" id="8"]
[ext_resource type="AudioStream" uid="uid://cklq3nv3w6q5x" path="res://Sounds/music.ogg" id="9"]
[ext_resource type="AudioStream" uid="uid://11bxrux7cbwo" path="res://Sounds/sound_coin.wav" id="10"]
[ext_resource type="AudioStream" uid="uid://djayyp7ypajbt" path="res://Sounds/Game Over sound effect.wav" id="11"]
[ext_resource type="Texture2D" uid="uid://dpqjlap6fl6u5" path="res://Art/Background/Blackboard.png" id="12"]
[ext_resource type="PackedScene" path="res://Floor.tscn" id="13"]
[ext_resource type="Texture2D" uid="uid://nb7y5jvq3em6" path="res://Art/Background/Arrow_Right_Dark.png" id="14"]
[ext_resource type="Texture2D" uid="uid://b15k11nr8sp13" path="res://Art/Objects_Sprites/PowerBar_Level2.png" id="15"]
[ext_resource type="Texture2D" uid="uid://ckcrpoad8mklh" path="res://Art/Objects_Sprites/PowerBar_Max1.png" id="16"]
[ext_resource type="Texture2D" uid="uid://c01txubxvgd0b" path="res://Art/Objects_Sprites/PowerBar_Level3.png" id="17"]
[ext_resource type="Texture2D" uid="uid://jl4va763mffe" path="res://Art/Objects_Sprites/PowerBar_Level5.png" id="18"]
[ext_resource type="Texture2D" uid="uid://b6g7bmwfkusbd" path="res://Art/Objects_Sprites/PowerBar_Level4.png" id="19"]
[ext_resource type="Texture2D" uid="uid://cxd0w5b2ebjiv" path="res://Art/Objects_Sprites/PowerBar_Max2.png" id="20"]
[ext_resource type="Texture2D" uid="uid://ck5osgruo45au" path="res://Art/Objects_Sprites/PowerBar_Level1.png" id="21"]
[ext_resource type="AudioStream" uid="uid://cc2o1g5townqy" path="res://Sounds/hit.wav" id="23"]

[sub_resource type="FontFile" id="2"]
fallbacks = Array[Font]([ExtResource("6")])
cache/0/16/0/ascent = 0.0
cache/0/16/0/descent = 0.0
cache/0/16/0/underline_position = 0.0
cache/0/16/0/underline_thickness = 0.0
cache/0/16/0/scale = 1.0

[sub_resource type="SpriteFrames" id="3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3")
}, {
"duration": 1.0,
"texture": ExtResource("4")
}],
"loop": false,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="4"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5")
}, {
"duration": 1.0,
"texture": ExtResource("14")
}],
"loop": false,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("21")
}],
"loop": true,
"name": &"Level_1",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15")
}],
"loop": true,
"name": &"Level_2",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17")
}],
"loop": true,
"name": &"Level_3",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("19")
}],
"loop": true,
"name": &"Level_4",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("18")
}],
"loop": true,
"name": &"Level_5",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("16")
}, {
"duration": 1.0,
"texture": ExtResource("20")
}],
"loop": true,
"name": &"MaxPower",
"speed": 5.0
}]

[sub_resource type="Curve2D" id="1"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 3, 27, 0, 0, 0, 0, 80, 15, 0, 0, 0, 0, 228, 6, 0, 0, 0, 0, 375, 13, 0, 0, 0, 0, 459, 31)
}
point_count = 5

[node name="Main" type="Node"]
script = ExtResource("1")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(230.253, 399.118)
scale = Vector2(14.2342, 1.55813)
texture = ExtResource("2")

[node name="Blackboard" type="Sprite2D" parent="Background"]
position = Vector2(-0.0177917, 74.6665)
scale = Vector2(0.0709663, 1.04272)
texture = ExtResource("12")

[node name="Player" parent="Background" instance=ExtResource("7")]
position = Vector2(12.4641, 113.34)
scale = Vector2(0.112267, 1.78205)
SPEED = 10

[node name="Floor" parent="Background" instance=ExtResource("13")]
position = Vector2(-15.7545, 172.567)
scale = Vector2(0.069, 0.462)

[node name="lblPointsTitle" type="Label" parent="Background"]
offset_left = -4.86529
offset_top = 11.9302
offset_right = 115.135
offset_bottom = 38.9302
scale = Vector2(0.1, 1)
size_flags_vertical = 1
theme_override_fonts/font = SubResource("2")
text = "Puntuacion >"

[node name="StartPosition" type="Marker2D" parent="Background"]
position = Vector2(0, 105)
scale = Vector2(1e-05, 1e-05)

[node name="LeftLimit" type="Marker2D" parent="Background"]
position = Vector2(-15, 125)
scale = Vector2(1e-05, 1e-05)

[node name="RightLimit" type="Marker2D" parent="Background"]
position = Vector2(15, 125)
scale = Vector2(1e-05, 1e-05)

[node name="OutPosition" type="Marker2D" parent="Background"]
position = Vector2(23, 124)
scale = Vector2(1e-05, 1e-05)

[node name="Left" type="AnimatedSprite2D" parent="Background"]
position = Vector2(-12.2419, 214.925)
scale = Vector2(0.0107024, 0.0933115)
sprite_frames = SubResource("3")

[node name="Right" type="AnimatedSprite2D" parent="Background"]
position = Vector2(12.4873, 216.209)
scale = Vector2(0.0107662, 0.0952663)
sprite_frames = SubResource("4")

[node name="PowerBar" type="AnimatedSprite2D" parent="Background"]
position = Vector2(-0.298828, 221.343)
scale = Vector2(0.0142567, 0.132115)
sprite_frames = SubResource("5")
animation = &"Level_1"

[node name="CelulaTimer" type="Timer" parent="."]
wait_time = 7.581

[node name="StartTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="CrossTimer" type="Timer" parent="."]
wait_time = 0.89

[node name="GameTimer" type="Timer" parent="."]
wait_time = 10.0

[node name="Path3D" type="Path2D" parent="."]
curve = SubResource("1")

[node name="SpawnLocation" type="PathFollow2D" parent="Path3D"]
position = Vector2(3, 27)
rotation = -0.15460055

[node name="HUD" parent="." instance=ExtResource("8")]

[node name="Musica" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9")

[node name="Coin" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("10")

[node name="GameOver" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("11")

[node name="Hit" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("23")

[connection signal="crash" from="Background/Floor" to="." method="_on_Floor_crash"]
[connection signal="splash" from="Background/Floor" to="." method="_on_Floor_splash"]
[connection signal="timeout" from="CelulaTimer" to="." method="_on_CelulaTimer_timeout"]
[connection signal="timeout" from="StartTimer" to="." method="_on_StartTimer_timeout"]
[connection signal="timeout" from="CrossTimer" to="." method="_on_CrossTimer_timeout"]
[connection signal="timeout" from="GameTimer" to="." method="_on_GameTimer_timeout"]
[connection signal="move_left" from="HUD" to="." method="_on_HUD_move_left"]
[connection signal="move_right" from="HUD" to="." method="_on_HUD_move_right"]
[connection signal="release_left" from="HUD" to="." method="_on_HUD_release_left"]
[connection signal="release_right" from="HUD" to="." method="_on_HUD_release_right"]
[connection signal="start_game" from="HUD" to="." method="new_game"]
